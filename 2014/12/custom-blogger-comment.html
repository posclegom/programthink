<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Python script by program.think@gmail.com" />
<meta name="provider" content="program-think.blogspot.com" />
<link type="text/css" rel="stylesheet" href="../../css/program-think.css" />
<title>博客评论功能升级（“未读”状态、按时间过滤）——兼谈“为啥俺不用其它博客平台” - 编程随想的博客</title>
</head>
<body>
<div id="main" style="width:100%;">
<h1><a href="../../index.html" title="回到首页">博客评论功能升级（“未读”状态、按时间过滤）——兼谈“为啥俺不用其它博客平台”</a></h1>
<div class="post-info"><span class="date-header">2014-12-01</span><a href="../../tags/IT.html" class="tag">IT</a> <a href="../../tags/IT.E4BFA1E681AFE5AE89E585A8.html" class="tag">IT.信息安全</a> <a href="../../tags/E58D9AE5AEA2E9809AE5918A.html" class="tag">博客通告</a> </div>
<hr/>
<div class="post">
<h2>★先插播一个鸣谢</h2><br />&#12288;&#12288;前几天发了一篇《<a href="../../2014/11/political-offences-in-china.html">被判“谋反罪”的都是哪些人——“危害国家安全罪”出笼20年随想</a>》，发出之后，有不少热心读者在博客评论中补充了俺遗漏的案例。非常感谢 :)<br />&#12288;&#12288;这个周末因为在开发“评论未读状态”的新功能，还没来得及更新那篇博文。争取明后天更新一下——加入大伙儿的补充。<br /><br /><hr/>&#12288;&#12288;本月初发了一篇《<a href="../../2014/11/custom-blogger-search.html">博客界面升级——重新实现【全站搜索】，比 Google 更准确地搜索评论</a>》，在那篇博文的“★下一步的计划”中，就已经定好了——下一步要实现“评论的【已读/未读】状态”。<br />&#12288;&#12288;今天已经是月底最后一天。所以俺趁着这个周末，赶紧把这个功能给做了。<a name='more'></a><!--program-think--><br /><br /><h2>★新功能之——评论的“未读”状态</h2><br />&#12288;&#12288;如今评论越来越多（超过300条都是家常便饭），所以这个功能就显得更加迫切了。<br />&#12288;&#12288;Google 的 Blogspot 平台不支持服务端定制，所以俺只能在客户端存储“评论状态的信息”（目前依然通过 cookie 存储）。<br />&#12288;&#12288;由于 cookie 在隐私方面的名声不好。为了避嫌，该功能默认【不启用】。如果要使用该功能，需要先到“<a href="http://program-think.blogspot.com/p/options.html">界面定制</a>”把它开启。<br />&#12288;&#12288;开启该功能之后，在“评论区”上方的工具条会多出几个按钮。利用这几个按钮，就可以标记“评论的【已读/未读】状态”，或者是按照“未读状态”进行过滤。<br />&#12288;&#12288;这里所说的“未读”状态，类似于“博客阅读器”里面的“未读状态”。<br />&#12288;&#12288;为了让你更直观地识别出“未读评论”，俺把“未读评论”的背景高亮显示（浅白色）。如此一来，就可以跟原有的评论区分开（原有的评论，背景色默认是“浅灰色”）。如果你不喜欢这个高亮的背景色，可以在“<a href="http://program-think.blogspot.com/p/options.html">界面定制</a>”禁用。<br />&#12288;&#12288;跟该功能相关的，还有另一个选项——【默认只显示“未读评论”】。<br />&#12288;&#12288;如果开启该选项，每当你打开某篇博文时，默认只显示“包含未读评论的楼层”。<br />&#12288;&#12288;有了此功能之后，俺就可以更快地回复读者的留言。<br /><br /><h2>★新功能之——评论区导航</h2><br />&#12288;&#12288;这个功能是顺便加上去的。<br />&#12288;&#12288;在“评论区工具条”的最右边有一个“下拉式导航”，可以方便地用来跳转到某个楼层。<br />&#12288;&#12288;并且在该“下拉式导航”中可以显示每一个楼层的“回复数”，方便你一眼就看出“哪个楼层比较热闹”。<br />&#12288;&#12288;跳转之后，可以用浏览器的后退键重新回到“评论区顶部”，也可以点屏幕边上那个“悬浮工具条”里面的对应按钮回到“评论区顶部”。<br /><br /><h2>★新功能之——按时间过滤评论</h2><br />&#12288;&#12288;在9月底，俺已经上线了“评论过滤”的功能。当时是基于用户过滤——也就是“只看此人评论”和“隐藏此人评论”。<br />&#12288;&#12288;这次顺便增加了一个“按时间过滤评论”的新功能（也是应读者要求）。<br />&#12288;&#12288;另外，不论是“按时间过滤”还是“按用户过滤”，俺除了会把符合条件的评论筛选出来，而且还会把符合条件的评论，设置边框颜色，使之更醒目。<br />&#12288;&#12288;之前没有设置边框颜色，不够醒目。<br /><br /><h2>★下一步的计划</h2><br />&#12288;&#12288;从9月底到如今（11月底），累计已经进行了4次较大的功能升级，花掉俺不少时间。不过还是那句老话——磨刀不误砍柴功——花这些时间很值得，有助于提高大伙儿（包括俺）的使用效率。<br />&#12288;&#12288;这一轮“界面改版”，可以暂告一段落了。下次大规模升级界面功能，至少是明年的事情了。不过捏，一些小修小补（Bug），俺还会持续进行。<br />&#12288;&#12288;这2-3年来，读者用得最多，同时也是抱怨最多的，显然是“评论”方面的问题。虽然经过这一轮改版，界面功能有很大的完善，但是评论系统的核心，依然是 Blogspot 平台的代码。也就是说，俺只是在界面上玩些花样，核心代码没有轻易改动。<br />&#12288;&#12288;但是很多读者抱怨的问题（比如“自动加载”有时会失效，尤其是网络不稳定的时候），不修改核心代码是难以解决的。另外，俺希望本博客的“评论界面”能够做到类似 Twitter 那样——发评论之后【不需要】重新加载整个页面。<br />&#12288;&#12288;上述这些，都需要改动核心代码。所以，俺初步计划在下一个长假（明年春节），来动一动核心代码。希望俺能抽出时间。如果抽不出时间，那就得拖到下一个“十一假期”了。<br />&#12288;&#12288;如果你有其它的点子，欢迎到本文留言。<br /><br /><h2>★为啥俺不使用其它博客平台？</h2><br />&#12288;&#12288;近期这几轮改版，俺老是用 JavaScript 脚本在客户端折腾，费了老大劲。于是就有不少读者来问俺——为啥不改用其它博客平台。<br />&#12288;&#12288;在“博客平台”方面，确实有很多选择。就拿 WordPress 来说——已经是全球最大的 BSP，而且功能远远好于 BlogSpot。<br />&#12288;&#12288;为啥俺不换捏？总的来说，是基于“安全方面的考虑”。<br />&#12288;&#12288;首先，<br />&#12288;&#12288;Blogspot 是 Google 维护的。而 Google 具有全球一流的安全研究团队（这一点，很多大公司都比不上）。比如今年曝光的好几个高危漏洞（包括大名鼎鼎的 <a href="https://en.wikipedia.org/wiki/Heartbleed" target="_blank" rel="nofollow">Heartbleed</a> 和 <a href="https://en.wikipedia.org/wiki/POODLE" target="_blank" rel="nofollow">PODDLE</a>），都是 Google 的安全研究人员首先发现的。因此，用 Google 的服务，“服务器被入侵”的概率会大大降低。相比之下，WordPress 这几年已经出过好几次严重的安全漏洞（会导致服务端被入侵）。<br />&#12288;&#12288;其次，<br />&#12288;&#12288;Google 具有全球数一数二的服务器集群。所以在 Blogspot 上搭建博客，不容易被 DDOS（分布式拒绝服务攻击）。像俺这种长期煽动颠覆政权的博客，还是有必要考虑对 DDOS 的防范。<br />&#12288;&#12288;就在最近2-3年，博讯网和明镜网都曾经被党国的御用骇客用 DDOS 搞趴下。<br />&#12288;&#12288;最后还有一点，<br />&#12288;&#12288;用 Blogspot 开博客，无需注册域名，无需租用服务器（或 VPS），整个过程完全免费。俺就免去了“在线支付”的环节——有助于保持“隐匿性”。<br />&#12288;&#12288;有些同学可能会说：用比特币购买域名或服务器空间，不也是匿名的吗。对这些同学，俺要警告一下——比特币的匿名性远远没有你们想象的那么好！<br /><br /><b>俺博客上，和本文相关的帖子（需翻墙）</b>：<br /><a href="../../2015/04/custom-blogger-comment.html">博客评论功能升级（智能贴图、图片代理）——兼谈“Web 图片的隐私问题及防范”</a><br /><a href="../../2014/11/custom-blogger-search.html">博客界面升级（重新实现【全站搜索】，比 Google 更准确地搜索评论）</a><br /><a href="../../2014/10/custom-blogger-ui.html">博客界面升级（增加“界面定制”、“文章目录”、“自动刷评论”、“全屏显示”等）</a><br /><a href="../../2014/09/custom-blogger-comment.html">博客评论功能升级（增加“留言过滤”、“200条之后自动加载”等）</a><br /><a href="../../2012/09/custom-blogger-comment.html">博客评论功能升级（引入 BBCode 语法），顺便分享一下实现方法</a><div class="blogger-post-footer">
</div>
<hr/>
<div class="copyright">
<h4>版权声明</h4>
本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者<a href="mailto:program.think@gmail.com">编程随想</a>和本文原始网址：<br>
<a href="https://program-think.blogspot.com/2014/12/custom-blogger-comment.html">https://program-think.blogspot.com/2014/12/custom-blogger-comment.html</a>
</div>
</div>
</body>
</html>
